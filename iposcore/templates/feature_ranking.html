{% extends 'layout.html' %}
{% block head %}
    <link rel="stylesheet" href="css/containers.css">
    <link rel="stylesheet" href="css/navbar.css">
    <script type="text/javascript" src="javascript/barchart.js"></script>
{% endblock %}

{% block content %}
    <!-- Content -->
    <div class="content-svgs"></div>
    <script>
        const graphData = {{data | safe}}

        let processedData = []
        for(let i = 0; i< graphData[0].length; ++i){
            processedData.push({
                column_name : graphData[0][i],
                column_value : graphData[1][i]
            })
        }

        const element = d3.select('.content-svgs').node()
        const width = 1024
        const height = 768
        render(
        processedData,
            {
                width,
                height,
                MAX_LABEL_SIZE_Y: 250,
                MAX_LABEL_SIZE_X: 100,
                top: 20,
                right: 20,
                bottom: 30,
                left: 60
            }
        )
    </script>
{% endblock %}